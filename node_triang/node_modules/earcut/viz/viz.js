'use strict';  /*eslint comma-spacing: 0, no-unused-vars: 0 */ /*global earcut:false */

var testPoints2 = [
    [180.0, 68.993778, 180.0, 65.08455, 179.525028, 64.794556, 175.142556, 64.722444, 176.166736, 64.695649, 176.071611, 64.447083, 177.508278, 64.741278, 178.248361, 64.167056, 178.234028, 64.433333, 179.622556, 62.727444, 179.148333, 62.285389, 177.114972, 62.546222, 173.531667, 61.750389, 170.549111, 60.426667, 170.309972, 59.927083, 169.253333, 60.612889, 167.011694, 60.412917, 166.278389, 59.811194, 166.275, 60.472056, 164.836639, 59.782861, 164.486639, 60.10125, 163.637333, 59.998611, 161.89075, 57.977444, 163.319222, 57.7275, 162.675861, 57.336611, 163.360806, 56.187472, 162.087472, 56.094167, 162.144083, 54.748333, 159.984139, 54.154139, 160.049139, 53.089944, 158.417278, 52.998556, 158.542417, 52.289167, 156.673361, 50.862056, 155.562528, 55.175833, 155.989139, 56.678306, 156.850833, 57.7975, 158.319944, 57.977056, 161.941556, 60.417944, 163.789083, 60.8225, 164.149083, 62.270806, 165.308583, 62.469, 164.609944, 62.68125, 163.261583, 62.517917, 163.329139, 61.660778, 162.388333, 61.662028, 160.213361, 60.57875, 160.440806, 61.033306, 159.791667, 60.927056, 159.7725, 61.238306, 160.396639, 61.955417, 156.681583, 61.522056, 154.230833, 59.873306, 154.129139, 59.452444, 154.979944, 59.492917, 155.188361, 59.171222, 151.341611, 58.834611, 151.103389, 59.106222, 152.320778, 59.224944, 149.433389, 59.75875, 148.931667, 59.230389, 146.505, 59.462889, 146.046667, 59.138722, 145.691639, 59.42625, 142.461667, 59.202083, 138.2275, 56.420806, 135.227417, 54.909972, 135.74325, 54.565389, 136.8325, 54.646667, 136.783333, 53.764528, 137.735833, 54.320806, 137.313306, 53.534583, 138.580028, 53.995389, 138.6525, 54.289972, 139.741583, 54.300389, 141.424139, 53.295, 141.203333, 52.997889, 140.630833, 53.145833, 141.545833, 52.150833, 140.437444, 50.7175, 140.391306, 48.973333, 138.105833, 46.236194, 135.135806, 43.502083, 133.043333, 42.672917, 131.76, 43.337833, 131.220861, 42.552861, 130.673361, 42.675417, 130.699611, 42.297444, 129.759583, 41.764972, 129.715778, 40.833694, 127.507056, 39.736667, 127.37875, 39.213278, 128.360889, 38.687944, 129.43125, 37.059944, 129.583778, 36.015806, 129.090833, 35.050417, 128.589167, 35.211222, 128.424139, 34.76125, 127.720806, 34.998722, 127.803306, 34.587889, 127.515806, 34.88875, 127.34, 34.444583, 127.242472, 34.777056, 126.524972, 34.292889, 126.279583, 34.595833, 126.622111, 34.626639, 126.239556, 35.111694, 126.893778, 36.141639, 126.493278, 36.133694, 126.511222, 36.674167, 126.419139, 36.399556, 126.109528, 36.773306, 126.496639, 37.060333, 126.857917, 36.784944, 126.520333, 37.765778, 125.627472, 38.04125, 125.515056, 37.895417, 124.97625, 37.930833, 125.26, 38.085417, 124.652028, 38.128333, 124.960833, 38.592917, 125.603722, 38.649139, 125.126222, 38.876667, 125.559194, 39.665389, 123.625806, 39.935417, 121.139194, 38.724528, 121.942889, 39.403333, 121.248722, 39.385, 122.277917, 40.465, 121.884111, 41.048722, 120.973306, 40.830361, 119.005, 39.197083, 117.717889, 39.105833, 117.691194, 38.389139, 118.839944, 38.213722, 119.185028, 37.142056, 120.741667, 37.832889, 122.699556, 37.407472, 122.516667, 36.897028, 121.969167, 37.024583, 120.7775, 36.627917, 120.714194, 36.133778, 120.126667, 36.20375, 120.297889, 35.969972, 119.201194, 35.005, 119.184139, 34.690417, 120.284611, 34.303306, 120.850417, 32.616639, 121.910444, 31.736639, 120.055889, 31.967056, 120.788002, 31.852724, 121.912056, 30.938333, 120.137944, 30.195778, 121.264056, 30.327917, 122.137889, 29.8925, 121.427111, 29.474972, 121.997861, 29.590806, 121.974194, 29.222889, 121.41875, 29.163333, 121.732056, 28.941667, 121.346028, 28.705583, 121.625444, 28.265806, 120.582889, 28.103333, 120.858722, 27.885, 120.120806, 26.636222, 119.542917, 26.813306, 119.83125, 26.449972, 119.58, 26.423722, 119.95875, 26.375833, 119.512083, 26.075, 119.654583, 25.355833, 119.329167, 25.614556, 119.281639, 25.171222, 118.869611, 25.247472, 118.985861, 24.881222, 118.562917, 24.908278, 118.650889, 24.555417, 117.779917, 24.50625, 118.134556, 24.264972, 117.585028, 23.715389, 117.352472, 23.948722, 117.244111, 23.604556, 116.457417, 23.448722, 116.740361, 23.25, 116.495806, 22.939556, 115.5725, 22.65875, 115.314139, 22.902861, 114.881694, 22.544556, 114.779972, 22.837083, 114.20875, 22.5375, 114.297528, 22.260444, 113.368333, 23.11125, 113.547389, 22.188639, 113.283306, 22.368639, 113.114083, 22.072028, 112.921694, 22.514556, 112.9125, 21.852056, 112.365, 21.996222, 112.343361, 21.707889, 111.675028, 21.796222, 111.638306, 21.513722, 110.446667, 21.187861, 110.381694, 21.407889, 110.284972, 20.241222, 109.92625, 20.229167, 109.665417, 20.935861, 109.965417, 21.483333, 109.609139, 21.758694, 109.160806, 21.405417, 108.554056, 21.920333, 108.477389, 21.562861, 107.780889, 21.52375, 107.349139, 20.999556, 106.605278, 21.036611, 106.812889, 20.673306, 106.5525, 20.759556, 106.572889, 20.283306, 105.927028, 19.884167, 105.641194, 18.900694, 107.131917, 16.854083, 108.326667, 16.142889, 108.942056, 15.244972, 109.467111, 12.6475, 109.196194, 12.629972, 109.019139, 11.355417, 107.259167, 10.375389, 106.745722, 10.572833, 106.779111, 10.277, 106.435333, 10.31075, 106.77825, 10.081194, 106.356194, 10.192472, 106.616639, 9.812917, 106.179111, 10.175417, 106.5025, 9.55375, 105.836667, 9.993722, 106.19875, 9.375028, 105.280833, 8.752917, 104.79375, 8.800806, 105.087833, 10.004861, 103.864167, 10.707889, 103.614167, 10.500417, 103.558306, 11.165417, 103.1275, 10.867056, 102.644167, 12.177917, 101.789194, 12.708722, 100.855833, 12.646222, 100.988333, 13.500417, 99.951139, 13.309167, 100.024556, 12.1875, 99.150472, 10.344111, 99.224556, 9.255, 99.846222, 9.290833, 100.425833, 7.160389, 101.568361, 6.838639, 103.15125, 5.34, 103.477917, 4.533333, 103.457889, 2.825, 104.276583, 1.367889, 103.940806, 1.662889, 103.511667, 1.2695, 101.29125, 2.846667, 100.557944, 4.314972, 100.115306, 6.554111, 98.670833, 8.390389, 98.285444, 8.203333, 98.762667, 10.325806, 98.552556, 9.973722, 98.455583, 10.686694, 98.885417, 11.7, 98.542028, 11.882444, 98.720389, 12.81, 98.224111, 13.972917, 98.126194, 13.5525, 97.787917, 14.870806, 97.742083, 16.562528, 97.353778, 16.504944, 96.873889, 17.509361, 96.892917, 16.819167, 96.450778, 16.489583, 96.117472, 16.800389, 96.323722, 16.420833, 95.7175, 16.247056, 95.455833, 15.734556, 95.12775, 16.120111, 94.955806, 15.74125, 94.63675, 16.094111, 94.394167, 15.829583, 94.622722, 16.256278, 94.2425, 15.952861, 94.597944, 17.553306, 94.086222, 19.364167, 93.936667, 18.843722, 93.469583, 19.366667, 94.022861, 19.371639, 93.755444, 19.914972, 92.995806, 20.137889, 93.080028, 20.585389, 92.761194, 20.198333, 91.447417, 22.763611, 90.686639, 22.762889, 90.83125, 22.154111, 90.623722, 22.0, 90.533306, 22.605417, 90.194167, 21.802917, 89.902444, 22.390472, 89.778278, 21.82525, 89.522417, 22.085389, 89.219111, 21.747778, 89.042417, 22.075389, 89.026639, 21.598639, 88.639056, 22.076194, 88.246639, 21.561222, 88.019556, 22.222917, 87.804167, 21.696222, 86.912111, 21.338333, 87.069583, 20.720806, 86.371639, 19.952083, 85.038306, 19.392083, 84.129194, 18.309556, 82.306222, 17.038333, 82.303278, 16.55875, 81.2675, 16.292889, 80.940806, 15.711194, 80.263722, 15.671667, 80.047917, 15.074139, 80.346222, 13.283306, 79.75875, 11.671611, 79.880444, 10.308306, 79.294139, 10.260389, 78.900389, 9.486667, 79.189583, 9.280778, 78.265833, 9.017917, 78.070444, 8.374139, 77.5375, 8.073722, 76.547056, 8.898278, 75.869556, 11.124111, 73.457056, 16.053306, 72.655444, 19.833306, 72.930389, 20.76, 72.597861, 21.298306, 72.927889, 21.675778, 72.539972, 21.660389, 72.507889, 21.975806, 72.910806, 22.266222, 72.326694, 22.308722, 72.111278, 21.199111, 70.822472, 20.690417, 68.935389, 22.306694, 70.174167, 22.542028, 70.447889, 22.97, 69.1975, 22.835361, 68.425389, 23.509167, 68.801611, 23.884583, 68.265806, 23.556278, 68.346611, 23.96625, 67.480778, 23.912889, 67.294556, 24.774944, 66.657444, 24.832056, 66.456639, 25.617889, 61.756556, 25.007056, 57.314972, 25.782861, 56.68, 27.199556, 54.795778, 26.495417, 53.729139, 26.700389, 52.435833, 27.644556, 51.401667, 27.922056, 50.095417, 30.178333, 49.554167, 30.000444, 48.925417, 30.384944, 48.883306, 30.0095, 47.956528, 30.071139, 48.187889, 29.546639, 47.702889, 29.374111, 48.100389, 29.3525, 48.847056, 27.601639, 50.164583, 26.636639, 50.003028, 25.987444, 50.770833, 24.713694, 50.991389, 25.98325, 51.57775, 25.914111, 51.298361, 24.29375, 52.110833, 23.906556, 52.594111, 24.195444, 54.093361, 24.120361, 56.505806, 26.359639, 56.266278, 25.630778, 56.623611, 24.481583, 57.181639, 23.932083, 58.753306, 23.522028, 59.807889, 22.22, 58.519556, 20.409972, 58.195, 20.609583, 57.845278, 20.238333, 57.841194, 18.999194, 56.798306, 18.746222, 56.351694, 17.918722, 55.428333, 17.817889, 55.019972, 17.001222, 52.483333, 16.439556, 52.195806, 15.607889, 49.342444, 14.637889, 48.698306, 14.042056, 45.658333, 13.347, 45.039944, 12.751222, 43.463278, 12.6745, 42.598694, 15.230778, 42.70375, 16.739167, 40.795417, 19.729111, 39.197889, 21.084972, 39.142083, 22.404944, 38.455417, 23.781667, 37.427917, 24.370806, 37.239556, 25.188306, 35.221222, 28.046694, 34.575417, 28.088306, 35.001972, 29.526667, 34.242641, 27.724576, 32.566855, 29.927166, 32.305241, 31.202858, 34.237028, 31.338306, 35.988778, 34.537333, 35.713611, 35.586667, 36.153694, 36.837306, 35.354972, 36.532917, 34.64, 36.797083, 33.961639, 36.220389, 32.792472, 36.02625, 31.170833, 36.850417, 30.636722, 36.85625, 30.404972, 36.199583, 29.684944, 36.13125, 28.461667, 36.879583, 27.404944, 36.662889, 28.335417, 37.054167, 27.264139, 36.96375, 27.647083, 37.244139, 27.004611, 37.6575, 27.25625, 37.975833, 26.231611, 38.265389, 26.418278, 38.679528, 26.676611, 38.31125, 27.173694, 38.445806, 26.722083, 38.649972, 26.947917, 39.564972, 26.0725, 39.470361, 26.148722, 39.914972, 26.747389, 40.404556, 28.984972, 40.356222, 28.974972, 40.640417, 29.935833, 40.717889, 29.252472, 40.801278, 29.161639, 41.221222, 31.210806, 41.099556, 33.341639, 42.026194, 35.013306, 42.098694, 36.409139, 41.244528, 38.377444, 40.90875, 40.170833, 40.92125, 41.404917, 41.377, 41.7795, 41.842472, 41.435833, 42.737083, 36.600361, 45.193278, 37.5325, 45.379583, 38.274944, 46.25875, 38.590028, 46.037083, 37.696222, 46.7025, 38.593278, 46.662056, 39.262472, 47.262083, 35.920833, 46.655417, 34.990806, 46.077056, 35.185806, 46.527861, 34.465444, 45.915, 34.973306, 45.361222, 35.463722, 45.2825, 34.815028, 46.146222, 35.465028, 45.301222, 36.64625, 45.374139, 33.976611, 44.387889, 33.382083, 44.579167, 33.203306, 45.442056, 32.480389, 45.386694, 33.686639, 45.832889, 33.597444, 46.153722, 31.7875, 46.267111, 32.027889, 46.438306, 31.509139, 46.579556, 32.446222, 46.488306, 31.989083, 46.889556, 30.759167, 46.549556, 30.48, 46.077889, 30.140806, 46.382083, 30.477083, 46.073306, 29.720806, 45.582861, 30.131167, 45.902472, 29.742417, 45.602028, 29.631167, 45.824111, 29.608694, 44.850833, 28.995, 44.682861, 28.863333, 44.95375, 28.583611, 43.484056, 27.306167, 42.383278, 27.721694, 42.40875, 28.981639, 40.998694, 27.515806, 40.976222, 26.182389, 40.039528, 26.808222, 40.645417, 25.136611, 41.012, 23.733278, 40.753694, 24.402917, 40.155833, 23.734972, 40.355417, 23.949139, 39.93875, 22.928306, 40.637083, 22.585417, 40.466667, 23.350417, 39.185806, 22.935806, 39.35875, 23.057056, 39.015833, 22.527028, 38.8575, 24.08125, 38.162472, 24.030833, 37.647056, 23.519972, 38.043722, 22.993722, 37.877472, 23.515806, 37.430417, 22.717889, 37.560833, 23.198306, 36.434556, 22.635, 36.805389, 22.482472, 36.387861, 22.125833, 37.024583, 21.703694, 36.814139, 21.104528, 37.850833, 21.368722, 38.217472, 22.895833, 37.93375, 23.225389, 38.154972, 21.099111, 38.334528, 20.72875, 38.814972, 21.11775, 39.039028, 20.725806, 38.950417, 19.288722, 40.42, 19.594972, 41.812056, 18.7625, 42.490389, 17.008278, 43.005389, 17.742083, 42.834167, 16.886667, 43.399583, 15.951667, 43.504583, 14.559111, 45.29625, 13.905, 44.767056, 13.544028, 45.794556, 12.142889, 45.386639, 12.395778, 44.205417, 13.626694, 43.552083, 14.788278, 42.045389, 16.153333, 41.909583, 15.961611, 41.460389, 18.516222, 40.135833, 18.3475, 39.790361, 17.858306, 40.283722, 16.894917, 40.430389, 16.488722, 39.759167, 17.208722, 39.027472, 16.605, 38.812889, 16.064972, 37.923778, 15.634528, 38.017472, 16.221194, 38.853306, 15.676667, 40.030417, 11.093333, 42.394583, 10.179972, 43.961194, 8.747528, 44.427111, 6.158333, 43.029556, 4.085028, 43.56125, 3.334139, 43.287083, 2.951167, 42.833278, 3.203306, 41.891194, 0.979944, 41.034556, -0.180444, 39.74, -0.242139, 39.130833, 0.235444, 38.738333, -0.504583, 38.334111, -0.7175, 37.607056, -1.451667, 37.492111, -2.125833, 36.730417, -4.415, 36.718722, -5.608417, 36.000417, -6.866694, 37.292917, -8.995444, 37.0225, -8.856663, 38.384964, -8.630444, 38.408333, -9.225444, 38.411694, -8.945806, 38.997056, -9.500389, 38.783306, -8.792917, 40.118306, -8.599667, 42.344972, -9.302083, 43.054167, -7.688389, 43.792083, -7.049222, 43.48125, -1.605056, 43.430361, -1.095861, 45.559583, -1.237972, 45.692528, -1.101306, 46.316667, -1.812528, 46.492889, -2.39, 47.50625, -4.376667, 47.796222, -4.633361, 48.283417, -4.157556, 48.250111, -4.780111, 48.506778, -3.076667, 48.88375, -2.686694, 48.496194, -1.3575, 48.63375, -1.940028, 49.727861, 2.8e-05, 49.327944, 1.665778, 50.183306, 1.583278, 50.872917, 4.250306, 51.352139, 3.430639, 51.533278, 4.64575, 51.713278, 4.007528, 51.963278, 4.733333, 52.967056, 5.253278, 52.310333, 5.844139, 52.584139, 5.334111, 53.075833, 5.878333, 53.39625, 7.428444, 53.222528, 7.093028, 53.585722, 7.956722, 53.718306, 8.505694, 53.369083, 8.668333, 53.894583, 9.825806, 53.531639, 8.574111, 54.301611, 9.014028, 54.486639, 8.610778, 54.881667, 8.27575, 54.752472, 8.596611, 57.121194, 10.657472, 57.7375, 10.124083, 56.711611, 10.960778, 56.441667, 9.559139, 55.707472, 9.420778, 54.82825, 10.143278, 54.320389, 11.132417, 54.390806, 10.888222, 53.959528, 13.021639, 54.439556, 14.591167, 53.601694, 14.731639, 54.026222, 17.948333, 54.832083, 18.796583, 54.343722, 19.878306, 54.640361, 19.373333, 54.220361, 20.4125, 54.677472, 19.889889, 54.637833, 19.935722, 54.916583, 20.567609, 55.08183, 21.083417, 55.727083, 20.514278, 54.955028, 21.247472, 54.95075, 20.98075, 56.522472, 21.6975, 57.566611, 22.609944, 57.760417, 23.636556, 56.961917, 24.393861, 57.240111, 24.585833, 58.322417, 23.735833, 58.349972, 23.50325, 59.230417, 25.696556, 59.676194, 27.914944, 59.402861, 28.098222, 59.790417, 30.346583, 59.950417, 28.623278, 60.352806, 28.658194, 60.742833, 22.893361, 59.808694, 23.092417, 60.37, 22.519972, 60.212889, 21.425806, 60.603361, 21.797472, 61.491639, 21.124139, 62.799972, 25.509167, 65.021611, 24.591694, 65.843639, 22.639944, 65.907083, 22.396583, 65.534611, 21.74575, 65.751667, 21.746639, 65.19125, 21.2325, 65.333361, 21.619111, 64.443278, 20.674111, 63.795833, 18.121639, 62.76875, 17.684167, 63.004972, 17.175722, 60.682444, 17.99, 60.604556, 19.090833, 59.748306, 18.084083, 59.423306, 18.712444, 59.278333, 17.92325, 58.803778, 17.653306, 59.184528, 17.506694, 58.782056, 16.187417, 58.641667, 16.949083, 58.4775, 16.415778, 58.477472, 16.729139, 57.444139, 15.848333, 56.073722, 14.688278, 56.167056, 14.196639, 55.382083, 12.8125, 55.378333, 12.445806, 56.304139, 12.94075, 56.583278, 11.702472, 57.704944, 11.910667, 58.341667, 11.568306, 57.927889, 11.705694, 58.436667, 11.210694, 58.350806, 10.753333, 59.908722, 10.422444, 59.063361, 9.518306, 59.134583, 8.216694, 58.10875, 7.048333, 57.980389, 5.662528, 58.550806, 5.574167, 59.032472, 6.285806, 58.839167, 6.647417, 59.052472, 5.889111, 59.084139, 6.597417, 59.559167, 5.648278, 59.25875, 5.224194, 59.525778, 7.140778, 60.4975, 5.546639, 59.886278, 5.765833, 60.390833, 5.441611, 60.132111, 5.169194, 60.374167, 5.799083, 60.734139, 5.276639, 60.540417, 4.947472, 60.808333, 5.589167, 60.871667, 5.0225, 61.034167, 6.646611, 61.175444, 7.123361, 60.862056, 7.712472, 61.234194, 7.586667, 61.493722, 7.328306, 61.157056, 6.753306, 61.418722, 6.517819, 61.197374, 5.231667, 61.104556, 5.674111, 61.368333, 4.979111, 61.421611, 5.855889, 61.455778, 4.997444, 61.58, 5.191667, 61.882111, 6.845833, 61.870833, 5.178361, 61.895389, 5.099056, 62.193306, 6.313333, 62.059556, 5.930778, 62.222472, 6.551583, 62.104528, 6.684018, 62.339983, 7.198278, 62.09875, 6.259028, 62.585, 8.147472, 62.695, 6.983306, 62.956222, 8.531639, 62.66875, 7.882472, 62.989972, 8.699111, 62.816667, 8.514944, 63.382056, 9.675241, 63.601279, 9.826639, 63.312889, 10.960861, 63.4475, 11.385, 64.112889, 10.421583, 63.569528, 9.502444, 63.645806, 10.954944, 64.607917, 11.218306, 64.312083, 11.860278, 64.448444, 11.385861, 64.6875, 12.17, 64.959556, 11.288278, 64.878722, 12.960833, 65.314139, 12.044083, 65.214167, 12.669222, 65.923333, 13.200833, 65.828333, 12.676611, 66.071278, 14.170833, 66.32325, 13.0175, 66.178333, 13.990806, 66.7975, 13.489139, 66.951667, 15.4725, 67.1, 14.31075, 67.264139, 15.887417, 67.579139, 14.849917, 67.877917, 15.864972, 67.907889, 15.2775, 68.062472, 16.003222, 68.267083, 16.516583, 67.817028, 16.284944, 68.376278, 17.904944, 68.414528, 16.455806, 68.507472, 17.690639, 68.670778, 18.148222, 69.465444, 19.549833, 69.214583, 18.939222, 69.624194, 19.720028, 69.812889, 19.646611, 69.414556, 20.288194, 69.97875, 19.909917, 69.27125, 21.235028, 70.012083, 22.118333, 69.73625, 21.562528, 70.322889, 23.468194, 69.981222, 24.639944, 70.992083, 25.913667, 70.874139, 25.152472, 70.065389, 26.659944, 70.967889, 26.486111, 70.358306, 27.091028, 70.46325, 27.657444, 71.131222, 28.553806, 70.970028, 27.854806, 70.426972, 28.972417, 70.884583, 31.031167, 70.397472, 30.182444, 70.069556, 28.556139, 70.172472, 29.489833, 69.656167, 30.298222, 69.880389, 31.261667, 69.557028, 32.091722, 69.941222, 33.130806, 69.716667, 32.101583, 69.742083, 32.155028, 69.412083, 33.499111, 69.401667, 33.031583, 68.882917, 33.568222, 69.299583, 35.306583, 69.25125, 39.776667, 68.149556, 41.39075, 67.115083, 39.111667, 66.100917, 31.869472, 67.139083, 33.713056, 66.412583, 32.976806, 66.247472, 34.859694, 65.86475, 34.244556, 65.375167, 34.7835, 64.512111, 37.4175, 63.781444, 38.041972, 64.29025, 36.533722, 64.71475, 36.849139, 65.152639, 38.366556, 64.843778, 38.003556, 64.580611, 38.432528, 64.807583, 40.463639, 64.512222, 39.70075, 65.465639, 40.740028, 65.98475, 42.211028, 66.520278, 44.106167, 65.961944, 44.220778, 68.269167, 43.281583, 68.672083, 46.545861, 68.125, 46.693417, 67.80675, 44.924528, 67.424417, 46.018972, 66.816472, 47.560028, 66.892556, 47.826278, 67.577278, 49.071806, 67.600278, 48.59275, 67.913222, 52.216583, 68.57375, 52.326583, 68.30125, 53.873361, 68.959583, 54.565833, 68.978333, 53.609192, 68.80035, 53.218306, 68.186222, 54.849972, 68.139556, 55.361639, 68.540361, 57.303333, 68.532083, 59.003278, 68.993694, 59.764944, 68.337917, 59.944944, 68.716194, 61.189028, 68.808306, 60.184194, 69.564972, 60.844889, 69.864583, 66.184861, 69.077917, 65.529139, 69.143333, 68.258278, 68.127083, 69.264083, 68.937528, 68.101583, 69.529583, 66.807389, 69.551667, 66.728778, 71.106667, 68.338778, 71.586667, 69.396167, 72.9475, 71.632417, 72.900389, 72.878611, 72.693306, 71.811194, 71.464167, 72.811139, 70.869972, 72.539111, 68.953333, 73.625778, 68.423333, 71.749889, 66.904611, 69.127444, 66.612528, 72.133222, 66.19875, 74.772472, 67.699944, 74.666583, 68.766222, 76.584833, 68.96625, 77.094139, 67.761667, 78.784222, 67.468333, 77.485833, 67.744139, 78.184083, 68.245, 77.651583, 68.892028, 75.941667, 69.254556, 73.764194, 69.156639, 74.326111, 70.590833, 73.008722, 71.396667, 75.018778, 72.189972, 74.828806, 72.830833, 76.132472, 71.16125, 78.508722, 70.904139, 75.966222, 71.885806, 77.984861, 71.826222, 77.463694, 72.207472, 78.4475, 72.386222, 81.452361, 71.719556, 83.26375, 71.721667, 82.01375, 70.555778, 82.847417, 70.958722, 82.423639, 70.170833, 83.621611, 69.717889, 83.668833, 71.640806, 80.85125, 72.428333, 80.506194, 73.557472, 87.236639, 73.834861, 85.917389, 74.852111, 87.0075, 74.601278, 86.983278, 75.134556, 94.115056, 75.916694, 92.836444, 75.878722, 93.273389, 76.104556, 96.126639, 76.117056, 95.703167, 75.82625, 98.826722, 76.259556, 99.845056, 76.042472, 98.878167, 76.485, 101.128306, 76.464139, 101.354944, 77.089167, 104.146694, 77.71625, 106.345028, 77.365806, 104.1665, 77.082944, 107.544833, 76.914028, 106.533222, 76.499556, 111.093417, 76.765389, 113.934917, 75.835, 113.583278, 75.531194, 112.348278, 75.840028, 113.578333, 75.2125, 107.017417, 73.632056, 105.499806, 72.744556, 106.339944, 73.189583, 111.034861, 73.687889, 109.69, 73.673694, 110.022333, 74.006194, 111.5725, 74.052083, 112.307472, 73.689556, 112.844972, 73.987083, 113.51475, 73.202667, 115.687306, 73.705389, 118.879917, 73.530361, 118.406139, 73.225028, 119.847722, 72.9575, 122.842472, 72.852528, 124.437389, 73.801222, 126.281333, 73.259194, 128.816167, 73.2, 129.451222, 72.651667, 128.442778, 72.517972, 129.556111, 72.212472, 128.306139, 72.080806, 131.044917, 70.702861, 132.779944, 71.95125, 133.817556, 71.414556, 136.022389, 71.627028, 137.862583, 71.100417, 138.115028, 71.570417, 140.117333, 71.432083, 139.306111, 71.942472, 140.201083, 72.278306, 139.123722, 72.2525, 141.301278, 72.581694, 140.890056, 72.872111, 146.862528, 72.362944, 144.244778, 72.248694, 146.94375, 72.3175, 145.982389, 71.862861, 145.498639, 72.248333, 145.347556, 71.554556, 147.115028, 72.315417, 148.367389, 72.331278, 150.063694, 71.929139, 148.828722, 71.689139, 152.531194, 70.815028, 155.922389, 71.088722, 158.924917, 70.890417, 161.113278, 69.160389, 162.346667, 69.67375, 166.873361, 69.462083, 167.808389, 69.764528, 168.321611, 69.222083, 170.481611, 68.763694, 171.179194, 69.029972, 170.162361, 69.5975, 170.549917, 70.119556, 173.223194, 69.765361, 176.081639, 69.883722, 180.0, 68.993778]
];

var testPoints = [[[218,91],[-76,66],[92,-15]],[]];

for (let i = 0,j=0; i < testPoints2[0].length; i+=2,j++) {
    //const element = array[i];
    testPoints[1].push([testPoints2[0][i],testPoints2[0][i+1]]);
}

var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

var minX = Infinity,
    maxX = -Infinity,
    minY = Infinity,
    maxY = -Infinity;

for (var i = 0; i < testPoints[0].length; i++) {
    minX = Math.min(minX, testPoints[0][i][0]);
    maxX = Math.max(maxX, testPoints[0][i][0]);
    minY = Math.min(minY, testPoints[0][i][1]);
    maxY = Math.max(maxY, testPoints[0][i][1]);
}

var width = maxX - minX,
    height = maxY - minY;

canvas.width = window.innerWidth;
canvas.height = canvas.width * height / width + 10;

var ratio = (canvas.width - 10) / width;

if (devicePixelRatio > 1) {
    canvas.style.width = canvas.width + 'px';
    canvas.style.height = canvas.height + 'px';
    canvas.width *= 2;
    canvas.height *= 2;
    ctx.scale(2, 2);
}

var data = earcut.flatten(testPoints);

console.log(data);

console.time('earcut');
var result = earcut(data.vertices, data.holes, data.dimensions);
console.timeEnd('earcut');

console.log('deviation: ' + earcut.deviation(data.vertices, data.holes, data.dimensions, result));

var triangles = [];
for (i = 0; i < result.length; i++) {
    var index = result[i];
    triangles.push([data.vertices[index * data.dimensions], data.vertices[index * data.dimensions + 1]]);
}
console.log(triangles.length/3);


ctx.lineJoin = 'round';

var shit = [[[180.0, 65.08455], [180.0, 68.993778], [176.081639, 69.883722]], [[173.223194, 69.765361], [170.549917, 70.119556], [170.162361, 69.5975]], [[168.321611, 69.222083], [167.808389, 69.764528], [166.873361, 69.462083]], [[166.873361, 69.462083], [162.346667, 69.67375], [161.113278, 69.160389]], [[161.113278, 69.160389], [158.924917, 70.890417], [155.922389, 71.088722]], [[148.828722, 71.689139], [150.063694, 71.929139], [148.367389, 72.331278]], [[148.367389, 72.331278], [147.115028, 72.315417], [145.347556, 71.554556]], [[145.498639, 72.248333], [145.982389, 71.862861], [146.94375, 72.3175]], [[144.244778, 72.248694], [146.862528, 72.362944], [140.890056, 72.872111]], [[141.301278, 72.581694], [139.123722, 72.2525], [140.201083, 72.278306]], [[140.201083, 72.278306], [139.306111, 71.942472], [140.117333, 71.432083]], [[140.117333, 71.432083], [138.115028, 71.570417], [137.862583, 71.100417]], [[137.862583, 71.100417], [136.022389, 71.627028], [133.817556, 71.414556]], [[133.817556, 71.414556], [132.779944, 71.95125], [131.044917, 70.702861]], [[128.306139, 72.080806], [129.556111, 72.212472], [128.442778, 72.517972]], [[128.442778, 72.517972], [129.451222, 72.651667], [128.816167, 73.2]], [[126.281333, 73.259194], [124.437389, 73.801222], [122.842472, 72.852528]], [[118.406139, 73.225028], [118.879917, 73.530361], [115.687306, 73.705389]], [[113.51475, 73.202667], [112.844972, 73.987083], [112.307472, 73.689556]], [[112.307472, 73.689556], [111.5725, 74.052083], [110.022333, 74.006194]], [[110.022333, 74.006194], [109.69, 73.673694], [111.034861, 73.687889]], [[111.034861, 73.687889], [106.339944, 73.189583], [105.499806, 72.744556]], [[107.017417, 73.632056], [113.578333, 75.2125], [112.348278, 75.840028]], [[112.348278, 75.840028], [113.583278, 75.531194], [113.934917, 75.835]], [[113.934917, 75.835], [111.093417, 76.765389], [106.533222, 76.499556]], [[106.533222, 76.499556], [107.544833, 76.914028], [104.1665, 77.082944]], [[104.1665, 77.082944], [106.345028, 77.365806], [104.146694, 77.71625]], [[104.146694, 77.71625], [101.354944, 77.089167], [101.128306, 76.464139]], [[101.128306, 76.464139], [98.878167, 76.485], [99.845056, 76.042472]], [[99.845056, 76.042472], [98.826722, 76.259556], [95.703167, 75.82625]], [[95.703167, 75.82625], [96.126639, 76.117056], [93.273389, 76.104556]], [[93.273389, 76.104556], [92.836444, 75.878722], [94.115056, 75.916694]], [[94.115056, 75.916694], [86.983278, 75.134556], [87.0075, 74.601278]], [[87.0075, 74.601278], [85.917389, 74.852111], [87.236639, 73.834861]], [[87.236639, 73.834861], [80.506194, 73.557472], [80.85125, 72.428333]], [[82.423639, 70.170833], [82.847417, 70.958722], [82.01375, 70.555778]], [[82.01375, 70.555778], [83.26375, 71.721667], [81.452361, 71.719556]], [[81.452361, 71.719556], [78.4475, 72.386222], [77.463694, 72.207472]], [[77.984861, 71.826222], [75.966222, 71.885806], [78.508722, 70.904139]], [[76.132472, 71.16125], [74.828806, 72.830833], [75.018778, 72.189972]], [[75.018778, 72.189972], [73.008722, 71.396667], [74.326111, 70.590833]], [[74.326111, 70.590833], [73.764194, 69.156639], [75.941667, 69.254556]], [[78.184083, 68.245], [77.485833, 67.744139], [78.784222, 67.468333]], [[77.094139, 67.761667], [76.584833, 68.96625], [74.666583, 68.766222]], [[69.127444, 66.612528], [71.749889, 66.904611], [73.625778, 68.423333]], [[72.539111, 68.953333], [72.811139, 70.869972], [71.811194, 71.464167]], [[71.811194, 71.464167], [72.878611, 72.693306], [71.632417, 72.900389]], [[71.632417, 72.900389], [69.396167, 72.9475], [68.338778, 71.586667]], [[68.338778, 71.586667], [66.728778, 71.106667], [66.807389, 69.551667]], [[65.529139, 69.143333], [66.184861, 69.077917], [60.844889, 69.864583]], [[60.844889, 69.864583], [60.184194, 69.564972], [61.189028, 68.808306]], [[61.189028, 68.808306], [59.944944, 68.716194], [59.764944, 68.337917]], [[59.764944, 68.337917], [59.003278, 68.993694], [57.303333, 68.532083]], [[57.303333, 68.532083], [55.361639, 68.540361], [54.849972, 68.139556]], [[53.609192, 68.80035], [54.565833, 68.978333], [53.873361, 68.959583]], [[52.326583, 68.30125], [52.216583, 68.57375], [48.59275, 67.913222]], [[49.071806, 67.600278], [47.826278, 67.577278], [47.560028, 66.892556]], [[44.924528, 67.424417], [46.693417, 67.80675], [46.545861, 68.125]], [[46.545861, 68.125], [43.281583, 68.672083], [44.220778, 68.269167]], [[44.106167, 65.961944], [42.211028, 66.520278], [40.740028, 65.98475]], [[40.740028, 65.98475], [39.70075, 65.465639], [40.463639, 64.512222]], [[40.463639, 64.512222], [38.432528, 64.807583], [38.003556, 64.580611]], [[38.003556, 64.580611], [38.366556, 64.843778], [36.849139, 65.152639]], [[36.849139, 65.152639], [36.533722, 64.71475], [38.041972, 64.29025]], [[34.244556, 65.375167], [34.859694, 65.86475], [32.976806, 66.247472]], [[32.976806, 66.247472], [33.713056, 66.412583], [31.869472, 67.139083]], [[31.869472, 67.139083], [39.111667, 66.100917], [41.39075, 67.115083]], [[41.39075, 67.115083], [39.776667, 68.149556], [35.306583, 69.25125]], [[35.306583, 69.25125], [33.568222, 69.299583], [33.031583, 68.882917]], [[33.031583, 68.882917], [33.499111, 69.401667], [32.155028, 69.412083]], [[32.101583, 69.742083], [33.130806, 69.716667], [32.091722, 69.941222]], [[31.261667, 69.557028], [30.298222, 69.880389], [29.489833, 69.656167]], [[28.556139, 70.172472], [30.182444, 70.069556], [31.031167, 70.397472]], [[31.031167, 70.397472], [28.972417, 70.884583], [27.854806, 70.426972]], [[27.854806, 70.426972], [28.553806, 70.970028], [27.657444, 71.131222]], [[26.486111, 70.358306], [26.659944, 70.967889], [25.152472, 70.065389]], [[25.152472, 70.065389], [25.913667, 70.874139], [24.639944, 70.992083]], [[23.468194, 69.981222], [21.562528, 70.322889], [22.118333, 69.73625]], [[22.118333, 69.73625], [21.235028, 70.012083], [19.909917, 69.27125]], [[19.909917, 69.27125], [20.288194, 69.97875], [19.646611, 69.414556]], [[19.646611, 69.414556], [19.720028, 69.812889], [18.939222, 69.624194]], [[19.549833, 69.214583], [18.148222, 69.465444], [17.690639, 68.670778]], [[17.690639, 68.670778], [16.455806, 68.507472], [17.904944, 68.414528]], [[17.904944, 68.414528], [16.284944, 68.376278], [16.516583, 67.817028]], [[16.516583, 67.817028], [16.003222, 68.267083], [15.2775, 68.062472]], [[15.864972, 67.907889], [14.849917, 67.877917], [15.887417, 67.579139]], [[15.887417, 67.579139], [14.31075, 67.264139], [15.4725, 67.1]], [[15.4725, 67.1], [13.489139, 66.951667], [13.990806, 66.7975]], [[13.990806, 66.7975], [13.0175, 66.178333], [14.170833, 66.32325]], [[14.170833, 66.32325], [12.676611, 66.071278], [13.200833, 65.828333]], [[13.200833, 65.828333], [12.669222, 65.923333], [12.044083, 65.214167]], [[12.960833, 65.314139], [11.288278, 64.878722], [12.17, 64.959556]], [[12.17, 64.959556], [11.385861, 64.6875], [11.860278, 64.448444]], [[11.218306, 64.312083], [10.954944, 64.607917], [9.502444, 63.645806]], [[9.502444, 63.645806], [10.421583, 63.569528], [11.385, 64.112889]], [[9.826639, 63.312889], [9.675241, 63.601279], [8.514944, 63.382056]], [[8.699111, 62.816667], [7.882472, 62.989972], [8.531639, 62.66875]], [[8.531639, 62.66875], [6.983306, 62.956222], [8.147472, 62.695]], [[8.147472, 62.695], [6.259028, 62.585], [7.198278, 62.09875]], [[7.198278, 62.09875], [6.684018, 62.339983], [6.551583, 62.104528]], [[6.551583, 62.104528], [5.930778, 62.222472], [6.313333, 62.059556]], [[6.313333, 62.059556], [5.099056, 62.193306], [5.178361, 61.895389]], [[6.845833, 61.870833], [5.191667, 61.882111], [4.997444, 61.58]], [[5.855889, 61.455778], [4.979111, 61.421611], [5.674111, 61.368333]], [[5.674111, 61.368333], [5.231667, 61.104556], [6.517819, 61.197374]], [[6.753306, 61.418722], [7.328306, 61.157056], [7.586667, 61.493722]], [[7.123361, 60.862056], [6.646611, 61.175444], [5.0225, 61.034167]], [[5.589167, 60.871667], [4.947472, 60.808333], [5.276639, 60.540417]], [[5.799083, 60.734139], [5.169194, 60.374167], [5.441611, 60.132111]], [[5.765833, 60.390833], [5.546639, 59.886278], [7.140778, 60.4975]], [[7.140778, 60.4975], [5.224194, 59.525778], [5.648278, 59.25875]], [[6.597417, 59.559167], [5.889111, 59.084139], [6.647417, 59.052472]], [[6.285806, 58.839167], [5.574167, 59.032472], [5.662528, 58.550806]], [[5.662528, 58.550806], [7.048333, 57.980389], [8.216694, 58.10875]], [[9.518306, 59.134583], [10.422444, 59.063361], [10.753333, 59.908722]], [[10.753333, 59.908722], [11.210694, 58.350806], [11.705694, 58.436667]], [[11.705694, 58.436667], [11.568306, 57.927889], [11.910667, 58.341667]], [[11.910667, 58.341667], [11.702472, 57.704944], [12.94075, 56.583278]], [[12.94075, 56.583278], [12.445806, 56.304139], [12.8125, 55.378333]], [[12.8125, 55.378333], [14.196639, 55.382083], [14.688278, 56.167056]], [[14.688278, 56.167056], [15.848333, 56.073722], [16.729139, 57.444139]], [[16.415778, 58.477472], [16.949083, 58.4775], [16.187417, 58.641667]], [[16.187417, 58.641667], [17.506694, 58.782056], [17.653306, 59.184528]], [[17.653306, 59.184528], [17.92325, 58.803778], [18.712444, 59.278333]], [[18.084083, 59.423306], [19.090833, 59.748306], [17.99, 60.604556]], [[17.684167, 63.004972], [18.121639, 62.76875], [20.674111, 63.795833]], [[20.674111, 63.795833], [21.619111, 64.443278], [21.2325, 65.333361]], [[21.2325, 65.333361], [21.746639, 65.19125], [21.74575, 65.751667]], [[21.74575, 65.751667], [22.396583, 65.534611], [22.639944, 65.907083]], [[25.509167, 65.021611], [21.124139, 62.799972], [21.797472, 61.491639]], [[21.797472, 61.491639], [21.425806, 60.603361], [22.519972, 60.212889]], [[23.092417, 60.37], [22.893361, 59.808694], [28.658194, 60.742833]], [[28.658194, 60.742833], [28.623278, 60.352806], [30.346583, 59.950417]], [[30.346583, 59.950417], [28.098222, 59.790417], [27.914944, 59.402861]], [[27.914944, 59.402861], [25.696556, 59.676194], [23.50325, 59.230417]], [[23.50325, 59.230417], [23.735833, 58.349972], [24.585833, 58.322417]], [[23.636556, 56.961917], [22.609944, 57.760417], [21.6975, 57.566611]], [[21.6975, 57.566611], [20.98075, 56.522472], [21.247472, 54.95075]], [[20.514278, 54.955028], [21.083417, 55.727083], [20.567609, 55.08183]], [[20.567609, 55.08183], [19.935722, 54.916583], [19.889889, 54.637833]], [[19.373333, 54.220361], [19.878306, 54.640361], [18.796583, 54.343722]], [[18.796583, 54.343722], [17.948333, 54.832083], [14.731639, 54.026222]], [[14.591167, 53.601694], [13.021639, 54.439556], [10.888222, 53.959528]], [[10.888222, 53.959528], [11.132417, 54.390806], [10.143278, 54.320389]], [[9.559139, 55.707472], [10.960778, 56.441667], [10.124083, 56.711611]], [[10.124083, 56.711611], [10.657472, 57.7375], [8.596611, 57.121194]], [[8.596611, 57.121194], [8.27575, 54.752472], [8.610778, 54.881667]], [[9.014028, 54.486639], [8.574111, 54.301611], [9.825806, 53.531639]], [[9.825806, 53.531639], [8.668333, 53.894583], [8.505694, 53.369083]], [[8.505694, 53.369083], [7.956722, 53.718306], [7.093028, 53.585722]], [[7.428444, 53.222528], [5.878333, 53.39625], [5.334111, 53.075833]], [[5.253278, 52.310333], [4.733333, 52.967056], [4.007528, 51.963278]], [[4.64575, 51.713278], [3.430639, 51.533278], [4.250306, 51.352139]], [[4.250306, 51.352139], [1.583278, 50.872917], [1.665778, 50.183306]], [[2.8e-05, 49.327944], [-1.940028, 49.727861], [-1.3575, 48.63375]], [[-2.686694, 48.496194], [-3.076667, 48.88375], [-4.780111, 48.506778]], [[-4.157556, 48.250111], [-4.633361, 48.283417], [-4.376667, 47.796222]], [[-2.39, 47.50625], [-1.812528, 46.492889], [-1.101306, 46.316667]], [[-1.101306, 46.316667], [-1.237972, 45.692528], [-1.095861, 45.559583]], [[-7.049222, 43.48125], [-7.688389, 43.792083], [-9.302083, 43.054167]], [[-8.792917, 40.118306], [-9.500389, 38.783306], [-8.945806, 38.997056]], [[-8.945806, 38.997056], [-9.225444, 38.411694], [-8.630444, 38.408333]], [[-8.630444, 38.408333], [-8.856663, 38.384964], [-8.995444, 37.0225]], [[-6.866694, 37.292917], [-5.608417, 36.000417], [-4.415, 36.718722]], [[-4.415, 36.718722], [-2.125833, 36.730417], [-1.451667, 37.492111]], [[-1.451667, 37.492111], [-0.7175, 37.607056], [-0.504583, 38.334111]], [[-0.504583, 38.334111], [0.235444, 38.738333], [-0.242139, 39.130833]], [[0.979944, 41.034556], [3.203306, 41.891194], [2.951167, 42.833278]], [[4.085028, 43.56125], [6.158333, 43.029556], [8.747528, 44.427111]], [[10.179972, 43.961194], [11.093333, 42.394583], [15.676667, 40.030417]], [[16.221194, 38.853306], [15.634528, 38.017472], [16.064972, 37.923778]], [[16.605, 38.812889], [17.208722, 39.027472], [16.488722, 39.759167]], [[17.858306, 40.283722], [18.3475, 39.790361], [18.516222, 40.135833]], [[15.961611, 41.460389], [16.153333, 41.909583], [14.788278, 42.045389]], [[14.788278, 42.045389], [13.626694, 43.552083], [12.395778, 44.205417]], [[13.544028, 45.794556], [13.905, 44.767056], [14.559111, 45.29625]], [[14.559111, 45.29625], [15.951667, 43.504583], [16.886667, 43.399583]], [[17.742083, 42.834167], [17.008278, 43.005389], [18.7625, 42.490389]], [[19.594972, 41.812056], [19.288722, 40.42], [20.725806, 38.950417]], [[21.11775, 39.039028], [20.72875, 38.814972], [21.099111, 38.334528]], [[22.895833, 37.93375], [21.368722, 38.217472], [21.104528, 37.850833]], [[21.104528, 37.850833], [21.703694, 36.814139], [22.125833, 37.024583]], [[22.125833, 37.024583], [22.482472, 36.387861], [22.635, 36.805389]], [[22.635, 36.805389], [23.198306, 36.434556], [22.717889, 37.560833]], [[22.717889, 37.560833], [23.515806, 37.430417], [22.993722, 37.877472]], [[23.519972, 38.043722], [24.030833, 37.647056], [24.08125, 38.162472]], [[22.527028, 38.8575], [23.057056, 39.015833], [22.935806, 39.35875]], [[22.935806, 39.35875], [23.350417, 39.185806], [22.585417, 40.466667]], [[22.928306, 40.637083], [23.949139, 39.93875], [23.734972, 40.355417]], [[23.734972, 40.355417], [24.402917, 40.155833], [23.733278, 40.753694]], [[26.808222, 40.645417], [26.182389, 40.039528], [27.515806, 40.976222]], [[27.515806, 40.976222], [28.981639, 40.998694], [27.721694, 42.40875]], [[27.306167, 42.383278], [28.583611, 43.484056], [28.863333, 44.95375]], [[28.863333, 44.95375], [28.995, 44.682861], [29.608694, 44.850833]], [[29.631167, 45.824111], [29.742417, 45.602028], [30.131167, 45.902472]], [[30.131167, 45.902472], [29.720806, 45.582861], [30.477083, 46.073306]], [[30.140806, 46.382083], [30.48, 46.077889], [30.759167, 46.549556]], [[32.446222, 46.488306], [31.509139, 46.579556], [32.027889, 46.438306]], [[32.027889, 46.438306], [31.7875, 46.267111], [33.597444, 46.153722]], [[33.686639, 45.832889], [32.480389, 45.386694], [33.203306, 45.442056]], [[33.203306, 45.442056], [33.382083, 44.579167], [33.976611, 44.387889]], [[35.465028, 45.301222], [34.815028, 46.146222], [35.463722, 45.2825]], [[35.185806, 46.527861], [34.990806, 46.077056], [35.920833, 46.655417]], [[38.593278, 46.662056], [37.696222, 46.7025], [38.590028, 46.037083]], [[38.590028, 46.037083], [38.274944, 46.25875], [37.5325, 45.379583]], [[37.5325, 45.379583], [36.600361, 45.193278], [41.435833, 42.737083]], [[36.409139, 41.244528], [35.013306, 42.098694], [33.341639, 42.026194]], [[31.210806, 41.099556], [29.161639, 41.221222], [29.252472, 40.801278]], [[29.935833, 40.717889], [28.974972, 40.640417], [28.984972, 40.356222]], [[28.984972, 40.356222], [26.747389, 40.404556], [26.148722, 39.914972]], [[26.148722, 39.914972], [26.0725, 39.470361], [26.947917, 39.564972]], [[26.947917, 39.564972], [26.722083, 38.649972], [27.173694, 38.445806]], [[26.676611, 38.31125], [26.418278, 38.679528], [26.231611, 38.265389]], [[27.25625, 37.975833], [27.004611, 37.6575], [27.647083, 37.244139]], [[27.647083, 37.244139], [27.264139, 36.96375], [28.335417, 37.054167]], [[28.335417, 37.054167], [27.404944, 36.662889], [28.461667, 36.879583]], [[28.461667, 36.879583], [29.684944, 36.13125], [30.404972, 36.199583]], [[31.170833, 36.850417], [32.792472, 36.02625], [33.961639, 36.220389]], [[34.64, 36.797083], [35.354972, 36.532917], [36.153694, 36.837306]], [[36.153694, 36.837306], [35.713611, 35.586667], [35.988778, 34.537333]], [[34.237028, 31.338306], [32.305241, 31.202858], [32.566855, 29.927166]], [[32.566855, 29.927166], [34.242641, 27.724576], [35.001972, 29.526667]], [[35.001972, 29.526667], [34.575417, 28.088306], [35.221222, 28.046694]], [[37.239556, 25.188306], [37.427917, 24.370806], [38.455417, 23.781667]], [[39.142083, 22.404944], [39.197889, 21.084972], [40.795417, 19.729111]], [[42.70375, 16.739167], [42.598694, 15.230778], [43.463278, 12.6745]], [[43.463278, 12.6745], [45.039944, 12.751222], [45.658333, 13.347]], [[45.658333, 13.347], [48.698306, 14.042056], [49.342444, 14.637889]], [[49.342444, 14.637889], [52.195806, 15.607889], [52.483333, 16.439556]], [[52.483333, 16.439556], [55.019972, 17.001222], [55.428333, 17.817889]], [[55.428333, 17.817889], [56.351694, 17.918722], [56.798306, 18.746222]], [[56.798306, 18.746222], [57.841194, 18.999194], [57.845278, 20.238333]], [[58.195, 20.609583], [58.519556, 20.409972], [59.807889, 22.22]], [[59.807889, 22.22], [58.753306, 23.522028], [57.181639, 23.932083]], [[56.266278, 25.630778], [56.505806, 26.359639], [54.093361, 24.120361]], [[54.093361, 24.120361], [52.594111, 24.195444], [52.110833, 23.906556]], [[51.298361, 24.29375], [51.57775, 25.914111], [50.991389, 25.98325]], [[50.003028, 25.987444], [50.164583, 26.636639], [48.847056, 27.601639]], [[48.847056, 27.601639], [48.100389, 29.3525], [47.702889, 29.374111]], [[47.702889, 29.374111], [48.187889, 29.546639], [47.956528, 30.071139]], [[47.956528, 30.071139], [48.883306, 30.0095], [48.925417, 30.384944]], [[48.925417, 30.384944], [49.554167, 30.000444], [50.095417, 30.178333]], [[50.095417, 30.178333], [51.401667, 27.922056], [52.435833, 27.644556]], [[52.435833, 27.644556], [53.729139, 26.700389], [54.795778, 26.495417]], [[56.68, 27.199556], [57.314972, 25.782861], [61.756556, 25.007056]], [[66.456639, 25.617889], [66.657444, 24.832056], [67.294556, 24.774944]], [[67.294556, 24.774944], [67.480778, 23.912889], [68.346611, 23.96625]], [[68.346611, 23.96625], [68.265806, 23.556278], [68.801611, 23.884583]], [[68.801611, 23.884583], [68.425389, 23.509167], [69.1975, 22.835361]], [[70.174167, 22.542028], [68.935389, 22.306694], [70.822472, 20.690417]], [[70.822472, 20.690417], [72.111278, 21.199111], [72.326694, 22.308722]], [[72.910806, 22.266222], [72.507889, 21.975806], [72.539972, 21.660389]], [[72.927889, 21.675778], [72.597861, 21.298306], [72.930389, 20.76]], [[72.930389, 20.76], [72.655444, 19.833306], [73.457056, 16.053306]], [[75.869556, 11.124111], [76.547056, 8.898278], [77.5375, 8.073722]], [[77.5375, 8.073722], [78.070444, 8.374139], [78.265833, 9.017917]], [[78.265833, 9.017917], [79.189583, 9.280778], [78.900389, 9.486667]], [[79.294139, 10.260389], [79.880444, 10.308306], [79.75875, 11.671611]], [[79.75875, 11.671611], [80.346222, 13.283306], [80.047917, 15.074139]], [[80.263722, 15.671667], [80.940806, 15.711194], [81.2675, 16.292889]], [[81.2675, 16.292889], [82.303278, 16.55875], [82.306222, 17.038333]], [[82.306222, 17.038333], [84.129194, 18.309556], [85.038306, 19.392083]], [[85.038306, 19.392083], [86.371639, 19.952083], [87.069583, 20.720806]], [[86.912111, 21.338333], [87.804167, 21.696222], [88.019556, 22.222917]], [[88.019556, 22.222917], [88.246639, 21.561222], [88.639056, 22.076194]], [[88.639056, 22.076194], [89.026639, 21.598639], [89.042417, 22.075389]], [[89.042417, 22.075389], [89.219111, 21.747778], [89.522417, 22.085389]], [[89.522417, 22.085389], [89.778278, 21.82525], [89.902444, 22.390472]], [[89.902444, 22.390472], [90.194167, 21.802917], [90.533306, 22.605417]], [[90.533306, 22.605417], [90.623722, 22.0], [90.83125, 22.154111]], [[91.447417, 22.763611], [92.761194, 20.198333], [93.080028, 20.585389]], [[93.080028, 20.585389], [92.995806, 20.137889], [93.755444, 19.914972]], [[94.022861, 19.371639], [93.469583, 19.366667], [93.936667, 18.843722]], [[94.597944, 17.553306], [94.2425, 15.952861], [94.622722, 16.256278]], [[94.622722, 16.256278], [94.394167, 15.829583], [94.63675, 16.094111]], [[94.63675, 16.094111], [94.955806, 15.74125], [95.12775, 16.120111]], [[95.12775, 16.120111], [95.455833, 15.734556], [95.7175, 16.247056]], [[95.7175, 16.247056], [96.323722, 16.420833], [96.117472, 16.800389]], [[96.117472, 16.800389], [96.450778, 16.489583], [96.892917, 16.819167]], [[96.873889, 17.509361], [97.353778, 16.504944], [97.742083, 16.562528]], [[97.742083, 16.562528], [97.787917, 14.870806], [98.126194, 13.5525]], [[98.720389, 12.81], [98.542028, 11.882444], [98.885417, 11.7]], [[98.885417, 11.7], [98.455583, 10.686694], [98.552556, 9.973722]], [[98.762667, 10.325806], [98.285444, 8.203333], [98.670833, 8.390389]], [[100.115306, 6.554111], [100.557944, 4.314972], [101.29125, 2.846667]], [[101.29125, 2.846667], [103.511667, 1.2695], [103.940806, 1.662889]], [[103.940806, 1.662889], [104.276583, 1.367889], [103.457889, 2.825]], [[103.457889, 2.825], [103.477917, 4.533333], [103.15125, 5.34]], [[103.15125, 5.34], [101.568361, 6.838639], [100.425833, 7.160389]], [[100.425833, 7.160389], [99.846222, 9.290833], [99.224556, 9.255]], [[99.150472, 10.344111], [100.024556, 12.1875], [99.951139, 13.309167]], [[100.988333, 13.500417], [100.855833, 12.646222], [101.789194, 12.708722]], [[102.644167, 12.177917], [103.1275, 10.867056], [103.558306, 11.165417]], [[103.558306, 11.165417], [103.614167, 10.500417], [103.864167, 10.707889]], [[105.087833, 10.004861], [104.79375, 8.800806], [105.280833, 8.752917]], [[105.280833, 8.752917], [106.19875, 9.375028], [105.836667, 9.993722]], [[105.836667, 9.993722], [106.5025, 9.55375], [106.179111, 10.175417]], [[106.179111, 10.175417], [106.616639, 9.812917], [106.356194, 10.192472]], [[106.356194, 10.192472], [106.77825, 10.081194], [106.435333, 10.31075]], [[106.435333, 10.31075], [106.779111, 10.277], [106.745722, 10.572833]], [[106.745722, 10.572833], [107.259167, 10.375389], [109.019139, 11.355417]], [[109.196194, 12.629972], [109.467111, 12.6475], [108.942056, 15.244972]], [[108.942056, 15.244972], [108.326667, 16.142889], [107.131917, 16.854083]], [[105.927028, 19.884167], [106.572889, 20.283306], [106.5525, 20.759556]], [[106.5525, 20.759556], [106.812889, 20.673306], [106.605278, 21.036611]], [[106.605278, 21.036611], [107.349139, 20.999556], [107.780889, 21.52375]], [[107.780889, 21.52375], [108.477389, 21.562861], [108.554056, 21.920333]], [[108.554056, 21.920333], [109.160806, 21.405417], [109.609139, 21.758694]], [[109.965417, 21.483333], [109.665417, 20.935861], [109.92625, 20.229167]], [[109.92625, 20.229167], [110.284972, 20.241222], [110.381694, 21.407889]], [[110.381694, 21.407889], [110.446667, 21.187861], [111.638306, 21.513722]], [[111.675028, 21.796222], [112.343361, 21.707889], [112.365, 21.996222]], [[112.365, 21.996222], [112.9125, 21.852056], [112.921694, 22.514556]], [[112.921694, 22.514556], [113.114083, 22.072028], [113.283306, 22.368639]], [[113.283306, 22.368639], [113.547389, 22.188639], [113.368333, 23.11125]], [[113.368333, 23.11125], [114.297528, 22.260444], [114.20875, 22.5375]], [[114.779972, 22.837083], [114.881694, 22.544556], [115.314139, 22.902861]], [[115.314139, 22.902861], [115.5725, 22.65875], [116.495806, 22.939556]], [[116.495806, 22.939556], [116.740361, 23.25], [116.457417, 23.448722]], [[116.457417, 23.448722], [117.244111, 23.604556], [117.352472, 23.948722]], [[117.352472, 23.948722], [117.585028, 23.715389], [118.134556, 24.264972]], [[117.779917, 24.50625], [118.650889, 24.555417], [118.562917, 24.908278]], [[118.562917, 24.908278], [118.985861, 24.881222], [118.869611, 25.247472]], [[118.869611, 25.247472], [119.281639, 25.171222], [119.329167, 25.614556]], [[119.329167, 25.614556], [119.654583, 25.355833], [119.512083, 26.075]], [[119.512083, 26.075], [119.95875, 26.375833], [119.58, 26.423722]], [[119.58, 26.423722], [119.83125, 26.449972], [119.542917, 26.813306]], [[119.542917, 26.813306], [120.120806, 26.636222], [120.858722, 27.885]], [[120.582889, 28.103333], [121.625444, 28.265806], [121.346028, 28.705583]], [[121.346028, 28.705583], [121.732056, 28.941667], [121.41875, 29.163333]], [[121.41875, 29.163333], [121.974194, 29.222889], [121.997861, 29.590806]], [[121.427111, 29.474972], [122.137889, 29.8925], [121.264056, 30.327917]], [[120.137944, 30.195778], [121.912056, 30.938333], [120.788002, 31.852724]]];

console.log(triangles.length);
console.log(shit.length);
for (i = 0; triangles && i < triangles.length; i += 3) {
    //console.log(triangles.slice(i, i + 3));
    drawPoly(triangles.slice(i, i + 3), 'rgba(255,0,0,0.2)', 'rgba(255,255,0,0.2)');
    //console.log(shit[i]);
    //drawPoly(shit[i], 'rgba(255,0,0,0.2)', 'rgba(255,255,0,0.2)');
    //drawPoly(triangles.slice(i, i + 3), 'rgba(255,0,0,0.0)', 'rgba(255,0,0,0.3)');
}

drawPoly(testPoints, 'black', true);

function drawPoint(p, color) {
    var x = (p[0] - minX) * ratio + 5,
        y = (p[1] - minY) * ratio + 5;
    ctx.fillStyle = color || 'grey';
    ctx.fillRect(x - 3, y - 3, 6, 6);
}

function drawPoly(rings, color, fill) {
    ctx.beginPath();

    ctx.strokeStyle = color;
    if (fill && fill !== true) ctx.fillStyle = fill;

    if (typeof rings[0][0] === 'number') rings = [rings];

    for (var k = 0; k < rings.length; k++) {
        var points = rings[k];
        for (var i = 0; i < points.length; i++) {
            var x = (points[i][0] - minX) * ratio + 5,
                y = (points[i][1] - minY) * ratio + 5;
            if (i === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
        }
        if (fill) ctx.closePath();
    }
    ctx.stroke();

    if (fill && fill !== true) ctx.fill('evenodd');
}

function clear() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
}

function drawNode(node, color) {
    drawPoint([node.x, node.y], color);
}

function drawNodeRing(node, color, fill) {
    var start = node;
    var points = [];
    do {
        points.push([node.x, node.y]);
        node = node.next;
    } while (node !== start);

    console.log(JSON.stringify(points));
    drawPoly(points, color, fill);
}

function drawNodePolygon(node) {
    drawNodeRing(node, 'black', 'rgba(255,255,0,0.2)');
}

function drawNodeEdge(node, color) {
    drawPoly([[node.x, node.y], [node.next.x, node.next.y]], color);
}
